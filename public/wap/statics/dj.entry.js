(window.webpackJsonp=window.webpackJsonp||[]).push([[118],{964:function(e,t,a){"use strict";a.r(t);var n=a(4),o=a(43),i=a(192),s=a(0),r={signDraw:"/app/signDraw",luckDraw:"/app/luckDraw",currencyRecord:"/app/currencyRecord",currencyMall:"/app/currencyMall",drawRule:"/app/drawRule",agent:"/app/mine/agent",vip:"/app/mine/vip",vippage:"/app/vip",newCourtesy:"/app/mine/newCourtesy",gift:"/app/mine/gift",newWelfare:"/app/mine/newWelfare",penaltyIntoGold:"/app/penaltyIntoGold",bestdraw:"/app/bestdraw",carnival:"/app/carnival",fiveleague:"/app/fiveleague",newTask:"/app/newTask",startYear:"/app/startYear",carnivalActivity:"/app/carnivalActivity",redBagRain:"/app/redBagRain",joyous:"/app/joyous",insuranceBets:"/app/insuranceBets",lotterypreferential:"/app/lotterypreferential",tigerMachine:"/app/tigerMachine",realityFirstDeposit:"/app/realityFirstDeposit",firstDepositDiscount:"/app/firstDepositDiscount",backWater:"/app/backWater",newDepositTutorial:"/app/tutorialNew/newDepositTutorial",playmethod:"/app/tutorialNew/playmethod",singlePass:"/app/tutorialNew/singlePass",relatedPass:"/app/tutorialNew/relatedPass",betStrategy:"/app/tutorialNew/betStrategy",sportRules:"/app/tutorialNew/sportRules",activityTemplate:"/app/activityTemplate",hijack:"/app/tutorialNew/hijack",chessRanklist:"/app/chessRanklist",realrank:"/app/realrank",returnOfKing:"/app/returnOfKing",bonusTemplate:"/app/bonusTemplate",inviteFriend:"/app/inviteFriend",rulePage:"/rulePage",bettingIntroduction:"/app/bettingIntroduction",giftRecordList:"/app/mine/giftRecord/giftRecordList",knowVirtualCurrency:"/app/knowVirtualCurrency",coinIntroduction:"/app/coinIntroduction",knowExchange:"/app/knowExchange",usdtFirstDeposit:"/app/usdtFirstDeposit",usdtActivityDetail:"/app/usdtActivityDetail"},l=a(565),c=a.n(l),d=a(1),p=a(13),u=a(564),g=a(181),m=a(187),h=a(567),f=a(3),y=a(87),b=a(2),v=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function n(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)}}(),_=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var o in t=arguments[a])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},S=function(e,t,a,n){var o,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var r=e.length-1;r>=0;r--)(o=e[r])&&(s=(i<3?o(s):i>3?o(t,a,s):o(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},w={true:"\u8d26\u5bc6\u767b\u5f55",false:"\u624b\u673a\u53f7\u767b\u5f55"},N=function(e){function t(t){var a=e.call(this,t)||this;return a.validSunmitBtn=null,a.normalGeeObj=null,a.handleLogin=function(e){var t=a.state,n=t.userName,o=t.passWord,i=t.verify_code,r=t.isPwdLogin,l=t.loginPhone,c=t.loginPhoneCode,u=t.isNeedGeeValidate,g=t.actionParams,m=a.props.dispatch,f=a.props.state,y=f.isShowValidImg,b=f.iphoneValidStatus,v=a.props.all.app.validImgInfo;if(r){if(d.a.isEmpty(n))return void Object(p.a)("\u7528\u6237\u540d\u4e0d\u53ef\u4e3a\u7a7a");if(""===o)return void Object(p.a)("\u5bc6\u7801\u4e0d\u53ef\u4e3a\u7a7a");if(u&&y&&(!g.geetest_challenge||!g.geetest_validate||!g.geetest_seccode))return void Object(p.a)("\u8bf7\u5b8c\u6210\u4eba\u673a\u9a8c\u8bc1");if(y&&!i&&!u)return void Object(p.a)("\u9a8c\u8bc1\u7801\u4e0d\u53ef\u4e3a\u7a7a");a.state.checked&&s.b.setCookie(n,o,7);var _={name:n.replace(/(^\s*)|(\s*$)/g,""),password:o,domain:window.location.host,dispatch:a.props.dispatch};if(a.validSunmitBtn){if("init"===b)return void Object(p.a)("\u8bf7\u5148\u83b7\u53d6\u9a8c\u8bc1\u7801");if(!e)return void Object(p.a)("\u624b\u673a\u9a8c\u8bc1\u7801\u4e0d\u53ef\u4e3a\u7a7a");_.phone_code=e}y&&(_.geetest_challenge=g.geetest_challenge,_.geetest_validate=g.geetest_validate,_.geetest_seccode=g.geetest_seccode,_.geetest_code_id=g.geetest_code_id,_.geetest_offline=g.geetest_offline,_.code=i,_.XCodeId=v.code),m({type:"entry/loginV2",payload:_}),a.normalGeeObj.reset(),a.setState({actionParams:{},jyStatus:h.a.wait})}else{if(""===l.replace(/(^\s*)|(\s*$)/g,""))return Object(p.a)("\u8bf7\u8f93\u5165\u624b\u673a\u53f7\u7801"),!1;if(l.length<11)return Object(p.a)("\u624b\u673a\u53f7\u7801\u683c\u5f0f\u4e0d\u6b63\u786e"),!1;if(!s.b.getpattern.mobileSimple.test(l))return Object(p.a)("\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u5927\u9646\u7684\u624b\u673a\u53f7"),!1;m({type:"entry/phoneLogin",payload:_={phone_code:c,phone:l}})}},a.clearLoginToken=function(){a.props.dispatch({type:"app/UPDATE_TOKEN",payload:{token:""}}),sessionStorage.removeItem("token")},a.changeUserName=function(e){a.setState({userName:e})},a.changePassWord=function(e){a.setState({passWord:e})},a.changeVerifyCode=function(e){a.setState({verify_code:s.b.trimString(e)})},a.changePhoneCode=function(e){a.setState({phoneCode:s.b.trimString(e.target.value)})},a.handleLoginSms=function(e){var t=a.state.userName;a.props.dispatch({type:"login/loginSms",payload:{name:t.replace(/(^\s*)|(\s*$)/g,""),callBack:function(){a.setState({showVoiceModal:!0})}}})},a.hanldeEndCallBack=function(e){var t=e.status;a.props.dispatch({type:"login/loginSmsReducer",payload:{data:t}})},a.handleFocus=function(){a.setState({showPlaceholder:!1,isFocus:!0})},a.showPlaceholderHandle=function(){a.setState({showPlaceholder:!0})},a.toggleAccount=function(){a.clearLoginToken(),a.setState({phoneCode:""}),a.props.dispatch({type:"login/setIsValid",payload:{data:!1}})},a.linkToRegister=function(){var e=a.props.state.history,t=a.props.all.home.register_validate_type,n=void 0===t?"0":t;e.push("/entry/register"),1!==Number(n)&&a.props.dispatch({type:"app/getValidCodeImgInfo"}),window.sendClickEvent&&window.sendClickEvent("button","\u6ce8\u518c\u65b0\u7528\u6237\u6309\u94ae\u70b9\u51fb\u6b21\u6570\t",{key:"register_user_tab",version:"zhuge3"})},a.visitorHandle=function(){var e=a.props.state.history;a.clearLoginToken(),e.push("/app/home")},a.linkToForgetPassword=function(){a.props.state.history.push("/forget")},a.changeVerifyCodeHandle=function(e){e.stopPropagation(),a.props.dispatch({type:"app/getValidCodeImgInfo",payload:{}})},a.rememberPasswordHandle=function(){a.setState({checked:!a.state.checked},(function(){a.state.checked?localStorage.setItem("checked","1"):localStorage.setItem("checked","0")}))},a.normalGeeTest=function(){var e=a.state,t=e.actionParams;e.isRegisterValidateLosding||(a.normalGeeObj?t&&!t.geetest_challenge&&(a.normalGeeObj.verify(),a.setState({jyStatus:h.a.wait})):a.normalRegisterGee())},a.normalRegisterGee=function(){var e;a.setState({isRegisterValidateLosding:!0}),clearTimeout(e),e=setTimeout((function(){a.setState({isRegisterValidateLosding:!1})}),8e3),b.g.getValidate_gee().subscribe((function(e){try{var t=e.data,n=t.data,o=t.status_code,i=n.gt,r=n.challenge,l=n.success,c=n.new_captcha,d=n.code_id;200===o?(a.captchaSuccess=l,a.code_id=d,window.initGeetest({width:"100%",gt:i,challenge:r,new_captcha:c,product:"bind",offline:!Number(l)},(function(e){e.onReady((function(){a.normalGeeObj=e,e.verify(),a.setState({isRegisterValidateLosding:!1})})).onSuccess((function(){var t=e.getValidate(),n={geetest_code_id:d,geetest_offline:Number(l)};a.props.dispatch(s.b.createAction("entry/handleRegisterGeeReducer",{data:!0})),a.setState({actionParams:_({},n,t),isRegisterValidateLosding:!1,jyStatus:h.a.done})})).onError((function(){f.a.fail("\u7cfb\u7edf\u7e41\u5fd9\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5"),a.setState({isRegisterValidateLosding:!1,jyStatus:h.a.error})}))}))):(f.a.fail("\u7cfb\u7edf\u7e41\u5fd9\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5"),a.setState({isRegisterValidateLosding:!1}))}catch(p){a.setState({isRegisterValidateLosding:!1}),console.log(p)}}))},a.renderJyStatus=function(){var e=a.state.jyStatus;return n.createElement("div",{className:c.a[e]},n.createElement("i",{style:{backgroundPosition:h.b[e].icon},className:c.a.jyIcon}),n.createElement("span",{dangerouslySetInnerHTML:{__html:h.b[e].detail}}))},a.renderPwdLogin=function(){var e=a.props,t=e.onFocus,o=e.onBlur,i=a.props.state.isShowValidImg,r=a.state,l=r.userName,d=r.passWord,p=r.verify_code,g=r.isRegisterValidateLosding,m=r.isNeedGeeValidate,h=a.props.all.app.validImgInfo;return n.createElement(n.Fragment,null,n.createElement("div",{className:s.b.reactClassNameJoin(c.a.inputBox,c.a.loginBox)},n.createElement(u.a,{placeholder:"\u7528\u6237\u540d",key:"user",defaultValue:l,leftIconSrc:s.b.staticLink("https://h5static.0am08m.com/assets/entry/entry_user_icon.png"),onChange:a.changeUserName,onFocus:t,onBlur:o}),n.createElement(u.a,{className:c.a.inputGroup,placeholder:"\u5bc6\u7801",defaultValue:d,type:"password",leftIconSrc:s.b.staticLink("https://h5static.0am08m.com/assets/entry/entry_password_icon.png"),onChange:a.changePassWord,onFocus:t,onBlur:o}),s.b.isJudge(i&&!m)(n.createElement(u.a,{className:c.a.inputGroup,placeholder:"\u9a8c\u8bc1\u7801",defaultValue:p,leftIconSrc:s.b.staticLink("https://h5static.0am08m.com/assets/entry/entry_verify_icon.png"),clear:!1,maxLength:10,verifyCode:h.url,onChangeVerifyCode:a.changeVerifyCodeHandle,onChange:a.changeVerifyCode,onFocus:t,onBlur:o}),null),s.b.isJudge(i&&m)(n.createElement("div",{className:c.a.registerGeeWrap},n.createElement(y.a,{onTap:a.normalGeeTest},n.createElement("div",{className:c.a.normal_register_test,id:"normal_register_test"},s.b.isJudge(g)(n.createElement("span",{className:s.b.reactClassNameJoin(c.a.icon)},n.createElement("img",{className:c.a.refresh,src:s.b.staticLink("https://h5static.0am08m.com/assets/v4_common/refresh.png")})),a.renderJyStatus())))),null)),n.createElement("div",{className:c.a.otherOperate},n.createElement("div",{className:c.a.rememberPwdBox,onClick:a.rememberPasswordHandle,"data-analytics":"button","data-label":"\u8bb0\u4f4f\u5bc6\u7801\u70b9\u51fb\u6b21\u6570\t","data-ext":JSON.stringify({key:"remeber_pwd_tab",version:"zhuge3"})},n.createElement("span",{className:a.state.checked?c.a.turn_on:c.a.turn_off}),n.createElement("span",null,"\u8bb0\u4f4f\u5bc6\u7801")),n.createElement("span",{onClick:a.linkToForgetPassword,"data-analytics":"button","data-label":"\u5fd8\u8bb0\u5bc6\u7801\u6309\u94ae\u70b9\u51fb\u6b21\u6570","data-ext":JSON.stringify({key:"yb_fgtpw_btn_tap",version:"zhuge3"})},"\u5fd8\u8bb0\u5bc6\u7801?")))},a.handleLoginPhoneSms=function(){var e=a.state,t=e.loginPhone,n=e.limitList,o=e.isNeedGeeValidate;if(""===t.replace(/(^\s*)|(\s*$)/g,""))return Object(p.a)("\u8bf7\u8f93\u5165\u624b\u673a\u53f7\u7801"),!1;if(t.length<11)return Object(p.a)("\u624b\u673a\u53f7\u7801\u683c\u5f0f\u4e0d\u6b63\u786e"),!1;if(!s.b.getpattern.mobileSimple.test(t))return Object(p.a)("\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u5927\u9646\u7684\u624b\u673a\u53f7"),!1;if(n.length>0){var i=t.substr(0,3);if(3===i.length&&n.includes(i))return Object(p.a)("\u4e0d\u652f\u6301\u8be5\u624b\u673a\u53f7\u7801\uff0c\u8bf7\u66f4\u6362\u53f7\u7801\u8fdb\u884c\u7ed1\u5b9a"),!1}if(o){var r=a.state,l=r.actionParams;return!r.isRegisterValidateLosding&&(a.normalGeeObj?l&&!l.geetest_challenge&&a.normalGeeObj.verify():a.getValidate_gee(),!1)}a.getPhoneLoginSms()},a.getPhoneLoginSms=function(){var e=a.state,t=e.loginPhone,n=e.actionParams;a.props.dispatch({type:"login/phoneLoginSms",payload:_({phone:t.replace(/(^\s*)|(\s*$)/g,"")},n,{callBack:function(){a.setState({logoinShowVoiceModal:!0})}})})},a.getValidate_gee=function(){var e;a.setState({geeTestLosding:!0}),clearTimeout(e),e=setTimeout((function(){a.setState({geeTestLosding:!1})}),8e3),b.g.getValidate_gee().subscribe((function(e){try{var t=e.data,n=t.data,o=t.status_code,i=n.gt,s=n.challenge,r=n.success,l=n.new_captcha,c=n.code_id;200===o&&window.initGeetest({width:"100%",gt:i,challenge:s,new_captcha:l,product:"bind",offline:!Number(r)},(function(e){e.onReady((function(){a.normalGeeObj=e,e.verify(),a.setState({geeTestLosding:!1})})).onSuccess((function(){var t=e.getValidate();if(!t)return Object(p.a)("\u8bf7\u5b8c\u6210\u9a8c\u8bc1");var n={geetest_code_id:c,geetest_offline:String(r)};a.setState({actionParams:_({},n,t),geeTestLosding:!1}),a.getPhoneLoginSms()}))}))}catch(d){f.a.fail("\u7cfb\u7edf\u7e41\u5fd9\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5"),a.setState({geeTestLosding:!1})}}))},a.hanldeLoginEndCallBack=function(e){var t=e.status;a.props.dispatch({type:"login/phoneLoginSmsReducer",payload:{data:t}})},a.showLoginPlaceholderHandle=function(){a.setState({showLoginPlaceholder:!0})},a.handleBlur=function(){a.props.onBlur(),a.state.loginPhoneCode||a.setState({showLoginPlaceholder:!1})},a.changeLoginType=function(){a.setState({isPwdLogin:!a.state.isPwdLogin,loginPhoneCode:"",loginPhone:"",logoinShowVoiceModal:!1,showLoginPlaceholder:!1,showPlaceholder:!1}),a.normalGeeObj=null},a.changePhone=function(e){a.setState({loginPhone:e.replace(/[^0-9]/g,"")})},a.changeLoginPhoneCode=function(e){a.setState({loginPhoneCode:s.b.trimString(e.target.value)})},a.renderPhoneLogin=function(){var e=a.props,t=e.onFocus,o=e.onBlur,i=a.state,r=i.loginPhoneCode,l=i.logoinShowVoiceModal,d=i.loginPhone,p=i.showLoginPlaceholder,h=i.geeTestLosding,f=a.props.state,y=f.phoneLoginValidStatus,b=f.history;return n.createElement(n.Fragment,null,n.createElement("div",{className:s.b.reactClassNameJoin(c.a.inputBox,c.a.loginBox,c.a.phoneLoginBox)},n.createElement(u.a,{key:"phone",className:c.a.inputGroup,placeholder:"\u624b\u673a\u53f7",defaultValue:d,type:"number",maxLength:11,leftIconSrc:s.b.staticLink("https://h5static.0am08m.com/assets/entry/icon_phone.png"),onChange:a.changePhone,onFocus:t,onBlur:o}),n.createElement("div",{onClick:a.showLoginPlaceholderHandle,className:s.b.reactClassNameJoin(c.a.inputGroup,c.a.remoteInputGroup)},n.createElement("div",{className:s.b.reactClassNameJoin(c.a.inputIcon,c.a.verifyIcon)}),n.createElement("div",{className:s.b.reactClassNameJoin(c.a.inputMain,c.a.verifyMain)},s.b.isJudge(!p)(n.createElement("div",{className:c.a.inputTxt},"\u9a8c\u8bc1\u7801"),null),n.createElement("input",{maxLength:6,className:s.b.reactClassNameJoin(c.a.input,c.a.phoneCodeInput),type:"text",onFocus:t,onBlur:a.handleBlur,onChange:a.changeLoginPhoneCode,placeholder:s.b.isJudge(p)("\u9a8c\u8bc1\u7801",null),value:r})),n.createElement("div",{className:c.a.verifyCodeBox},s.b.isJudge(h)(n.createElement("div",{className:c.a.loading_wrap},n.createElement("img",{className:c.a.refresh,src:s.b.staticLink("https://h5static.0am08m.com/assets/v4_common/refresh.png")})),n.createElement(m.a,{startCallBack:a.handleLoginPhoneSms,endCallBack:a.hanldeLoginEndCallBack,status:y}))))),n.createElement("div",{className:c.a.voiceContainer},l&&n.createElement(g.a,{history:b,className:"enterPhoneTips",phone:d,code:"/member/v1/send_sms",verifyCodeEpic:"login/phoneLoginSms",styles:"0.1rem 0 0 0"})))},a.normalLoginForm=function(){var e=a.state,t=e.userName,o=e.passWord,i=e.isPwdLogin,r=e.loginPhoneCode,l=e.loginPhone,d=e.actionParams,p=e.isNeedGeeValidate,u=a.props.state.isShowValidImg,g=!1;return g=i?s.b.isJudge(p&&u)(t&&o&&d.geetest_challenge&&d.geetest_validate&&d.geetest_seccode,t&&o):r&&l,n.createElement(n.Fragment,null,i?a.renderPwdLogin():a.renderPhoneLogin(),n.createElement("div",{className:c.a.btnGroup},n.createElement("button",{className:s.b.isJudge(g)(c.a.loginBtn,""),type:"button",onClick:function(){a.handleLogin(null)},disabled:!g},"\u767b\u5f55")),n.createElement("div",{className:c.a.visitorBtn},n.createElement("a",{href:"javascript:;",onClick:a.visitorHandle,"data-analytics":"button","data-label":"\u5148\u53bb\u901b\u901b\u9875\u9762\u8bbf\u95ee\u91cf","data-ext":JSON.stringify({key:"yb_tour",version:"zhuge3"})},"\u5148\u53bb\u901b\u901b")))},a.remoteLoginForm=function(){var e=a.props.state,t=e.iphoneValidStatus,o=e.remoteLoginTip,i=e.history,r=a.state,l=r.phoneCode,d=r.showPlaceholder,p=r.showVoiceModal,u=r.userName,h=l;return n.createElement(n.Fragment,null,n.createElement("div",{className:s.b.reactClassNameJoin(c.a.inputBox,c.a.remoteBox)},n.createElement("h4",{className:c.a.tipTitle},o),n.createElement("div",{onClick:a.showPlaceholderHandle,className:s.b.reactClassNameJoin(c.a.inputGroup,c.a.remoteInputGroup)},n.createElement("div",{className:s.b.reactClassNameJoin(c.a.inputIcon,c.a.verifyIcon)}),n.createElement("div",{className:c.a.inputMain},s.b.isJudge(!d)(n.createElement("div",{className:c.a.inputTxt},"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801"),null),n.createElement("input",{maxLength:6,className:s.b.reactClassNameJoin(c.a.input,c.a.phoneCodeInput),type:"text",onChange:a.changePhoneCode,placeholder:s.b.isJudge(d)("\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801",null),value:l})),n.createElement("div",{className:c.a.verifyCodeBox},n.createElement(m.a,{startCallBack:a.handleLoginSms,endCallBack:a.hanldeEndCallBack,status:t}))),p&&n.createElement(g.a,{history:i,className:"enterTips",name:u,code:"/member/v1/login_sms",styles:"0.1rem 0 0 0"})),n.createElement("div",{className:c.a.btnGroup},n.createElement("button",{ref:function(e){return a.validSunmitBtn=e},className:s.b.isJudge(h)(c.a.loginBtn,""),type:"button",onClick:function(){a.handleLogin(l)},"data-analytics":"button","data-label":"\u767b\u5f55",disabled:!h},"\u767b\u5f55")),n.createElement("div",{className:c.a.visitorBtn},n.createElement("a",{href:"javascript:;",onClick:a.toggleAccount,"data-analytics":"button","data-label":"\u5207\u6362\u8d26\u53f7"},"\u5207\u6362\u8d26\u53f7")))},a.state={userName:"",passWord:"",verify_code:"",phoneCode:"",checked:!1,showPlaceholder:!1,isFocus:!1,showVoiceModal:!1,isPwdLogin:!0,showLoginPlaceholder:!1,loginPhone:"",loginPhoneCode:"",logoinShowVoiceModal:!1,limitList:[],isNeedGeeValidate:!1,geeTestLosding:!1,actionParams:{},jyStatus:h.a.wait,isRegisterValidateLosding:!1},a}return v(t,e),t.prototype.componentDidMount=function(){var e=this.props.all.home.register_validate_type,t=(this.props.state||{}).history,a=(((void 0===t?{}:t).location||{}).state||{}).type,n=localStorage.getItem("loginType"),o=window.location.href.split("?")[1],r=i.parse(o),l="phone"===n?s.b.decodeStr(localStorage.getItem("usernamePhone"))||"":s.b.decodeStr(localStorage.getItem("userName"))||"";this.setState({userName:l,passWord:s.b.decodeStr(localStorage.getItem("userPwd"))||"",checked:"0"!==localStorage.getItem("checked"),isPwdLogin:"phone"!==a&&("phone"!==n&&"phoneSetting"!==n)}),d.a.isEmpty(r)&&window.location.href.indexOf("login")>-1?this.props.state.history.replace("/entry/login"):d.a.isEmpty(r)&&window.location.href.indexOf("register")>-1&&this.props.state.history.replace("/entry/register"),"1"===String(e)&&this.setState({isNeedGeeValidate:!0}),sessionStorage.setItem("checkLimitLoginType","login")},t.prototype.componentWillReceiveProps=function(e){var t=e.all.home.register_validate_type,a=this.props.all.home.register_validate_type;e.state.loginIsValid&&e.state.loginIsValid!==this.props.state.loginIsValid&&this.setState({phoneCode:"",showVoiceModal:!1}),a!==t&&"1"===String(t)&&this.setState({isNeedGeeValidate:!0}),e.all.login.isGeeDone||this.props.all.login.isGeeDone===e.all.login.isGeeDone||this.normalGeeObj&&"function"===typeof this.normalGeeObj.reset&&(this.normalGeeObj.reset(),this.setState({actionParams:{},jyStatus:h.a.wait}))},t.prototype.render=function(){var e=this.state.isPwdLogin,t=this.props.state.loginIsValid;return n.createElement("div",{className:c.a.formContainer},n.createElement("div",{className:s.b.reactClassNameJoin(c.a.content,c.a.loginContent)},n.createElement("div",{className:c.a.title},n.createElement("span",null,w[e.toString()]),s.b.isJudge(t)(null,n.createElement("div",{onClick:this.changeLoginType},w[(!e).toString()],n.createElement("i",null)))),n.createElement("div",{className:c.a.form},s.b.isJudge(t)(this.remoteLoginForm(),this.normalLoginForm()))),n.createElement("div",{className:c.a.locationToRight,onClick:this.linkToRegister},n.createElement("div",{className:c.a.locationContent},n.createElement("div",{className:c.a.linkRegisterIcon}),n.createElement("div",{className:c.a.text},n.createElement("span",null,"\u6ce8"),n.createElement("span",null,"\u518c"),n.createElement("span",null,"\u65b0"),n.createElement("span",null,"\u7528"),n.createElement("span",null,"\u6237")))))},t=S([Object(o.b)((function(e){return{state:e.login,all:e}}))],t)}(n.PureComponent),E=(a(587),a(14)),C=a(554),P=a(576),k=a(549),R=a(5),L=a(624),V=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function n(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)}}(),I=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var o in t=arguments[a])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},O=function(e,t,a,n){var o,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var r=e.length-1;r>=0;r--)(o=e[r])&&(s=(i<3?o(s):i>3?o(t,a,s):o(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},j=function(e,t,a,n){return new(a||(a=Promise))((function(o,i){function s(e){try{l(n.next(e))}catch(t){i(t)}}function r(e){try{l(n.throw(e))}catch(t){i(t)}}function l(e){e.done?o(e.value):new a((function(t){t(e.value)})).then(s,r)}l((n=n.apply(e,t||[])).next())}))},B=function(e,t){var a,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:r(0),throw:r(1),return:r(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function r(i){return function(r){return function(i){if(a)throw new TypeError("Generator is already executing.");for(;s;)try{if(a=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(r){i=[6,r],n=0}finally{a=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,r])}}},G=Object(R.a)((function(){return a.e(130).then(a.bind(null,194))})),T=function(e){function t(t){var a=e.call(this,t)||this;return a.icodeInit=!1,a.normalGeeObj=null,a.getIcodeInfo=function(){var e=s.b.getUrlParams("i_code")||window.sessionStorage.getItem("i_code");a.i_code=e,e&&(a.props.dispatch({type:"home/handleFirstCheckIcodeReducer",payload:{data:!0}}),a.props.dispatch({type:"home/checkIcodeBlack",payload:{i_code:e}}))},a.randomNumber=(new Date).getTime(),a.onUserRegister=function(){return j(a,void 0,void 0,(function(){var e,t,a,n,o,i,r,l,c,u,g,m,h,f,y,b,v,_,S,w,N,E,C,P;return B(this,(function(k){switch(k.label){case 0:if(k.trys.push([0,2,,3]),e=this.state,t=e.userName,a=e.passWord,n=e.confirmPass,o=e.verify_code,i=e.phone,r=e.phone_code,l=e.isNeedRegisterValidate,c=e.actionParams,u=e.bindPhoneNum,g=e.bindVerifyCode,m=this.props.all.app.validImgInfo,h=this.props.all.home.icodeBlack,f=this.props.all.entry.isGeeDone,y=void 0!==f&&f,b=s.b.verifyPassword(a),v=this.props.all.login.registerBindStatus,d.a.isEmpty(t))return Object(p.a)("\u8bf7\u8f93\u5165\u7528\u6237\u540d\uff01"),[2,!1];if(!s.b.verifyUserName(t))return Object(p.a)("\u7528\u6237\u540d\u4ee56-10\u4f4d\u7684\u5b57\u6bcd+\u6570\u5b57\u7ec4\u5408\uff0c\u4e14\u9996\u4f4d\u4e0d\u4e3a\u6570\u5b57"),[2,!1];if(b)return Object(p.a)(b),[2,!1];if(h){if(d.a.isEmpty(r))return Object(p.a)("\u77ed\u4fe1\u9a8c\u8bc1\u7801\u4e0d\u6b63\u786e"),[2,!1];if(!s.b.getpattern.mobileSimple.test(i)&&h)return Object(p.a)("\u624b\u673a\u53f7\u7801\u683c\u5f0f\u4e0d\u6b63\u786e"),[2,!1]}else{if(d.a.isEmpty(n))return Object(p.a)("\u786e\u8ba4\u5bc6\u7801\u4e0d\u80fd\u4e3a\u7a7a"),[2,!1];if(a!==n)return Object(p.a)("\u5bc6\u7801\u8bf7\u4fdd\u6301\u4e00\u81f4"),[2,!1];if(d.a.isEmpty(o)&&!l)return Object(p.a)("\u8bf7\u586b\u5199\u9a8c\u8bc1\u7801"),[2,!1];if(511!==v&&512!==v&&l&&(!c.geetest_challenge||!c.geetest_validate||!c.geetest_seccode||!y))return Object(p.a)("\u8bf7\u5b8c\u6210\u4eba\u673a\u9a8c\u8bc1"),[2,!1]}return _={},l&&(_=c),S=s.b.isJudge(document.referrer)(document.referrer,window.location.host),N={domain:S,name:t,password:a,password_confirmation:h?a:n,code:h?r:o,XCodeId:m.code},[4,s.b.asyncGetUuid()];case 1:return w=I.apply(void 0,[(N.uuid=k.sent(),N.step="1",N),_]),E=sessionStorage.getItem("i_code"),C=sessionStorage.getItem("r_code"),E||(E=s.b.getCookie("i_code")),C||(C=s.b.getCookie("r_code")),h&&(w.phone=i),E&&(w.i_code=E),C&&(w.r_code=C),511!==v&&512!==v||(w.step="2",w.bind_phone=u,w.phone_code=g),this.props.dispatch({type:"entry/newRegister",payload:w}),this.saveBuryPoint(),[3,3];case 2:return P=k.sent(),console.log(P),[3,3];case 3:return[2]}}))}))},a.saveBuryPoint=function(){return j(a,void 0,void 0,(function(){var e,t,a,n,o,i,r,l,c,d;return B(this,(function(p){switch(p.label){case 0:return e=this.state.userName,t=sessionStorage.getItem("i_code")||"",a=this.props.all.home,n=a.report_api_list,o=a.reportApiIndex,i=a.location,r=i.ip,l=s.b.isTerminal(),[4,s.b.asyncGetUuid()];case 1:return c=p.sent(),d={register_time:Object(E.a)().format("YYYY-MM-DD HH:mm:ss"),version:"",ip:r,os_version:navigator.userAgent,os:l,phone_type:navigator.userAgent,uuid:c,client_type:"h5",username:e,icode:t},JSON.stringify(d),this.props.dispatch({type:"home/uploadBuryPointRegister",payload:{uri:"//"+n[o],records:[{value:d}]}}),[2]}}))}))},a.changeUserName=function(e){var t=s.b.isJudge(s.b.verifyUserName(e))("","error");a.setState({userName:e,userPlaceholderType:t})},a.changePassword=function(e){var t=s.b.handleTestPasword(e);a.setState(I({passWord:e},t))},a.changeconfirmPass=function(e){a.setState({confirmPass:e})},a.changePhone=function(e){a.setState({phone:e})},a.changePhoneCode=function(e){a.setState({phone_code:e})},a.changeVerifyCode=function(e){a.setState({verify_code:s.b.trimString(e)})},a.countdown=function(){var e=60,t=a;t.setState({sendPhoneCode:!0}),clearInterval(t.timer),a.timer=setInterval((function(){--e<=0&&(clearInterval(a.timer),t.setState({sendPhoneCode:!1})),t.setState({codeLeft:e||60})}),1e3)},a.checkValidate_gee=function(e){var t=e.geetest_challenge,n=e.geetest_validate,o=e.geetest_seccode;a.props.dispatch({type:"@@ty/loadingShow"}),b.g.checkValidate_gee({geetest_challenge:t,geetest_validate:n,geetest_seccode:o,offline:a.captchaSuccess,code_id:a.code_id}).subscribe((function(e){var t=e.data,n=t.status_code,o=t.data;if(200===n&&o.validate){a.props.dispatch({type:"@@ty/loadingHide"});var i=a.state.phone.split(" ").join("");s.b.getpattern.mobileSimple.test(i)?a.props.dispatch({type:"home/getNewRegisterSms",payload:{phone:i}}):Object(p.a)("\u624b\u673a\u53f7\u7801\u683c\u5f0f\u4e0d\u6b63\u786e")}else a.props.dispatch({type:"@@ty/loadingHide"}),Object(p.a)("\u9a8c\u8bc1\u5931\u8d25")}))},a.handlerGee=function(e){e.onReady((function(){a.captchaObj=e})).onSuccess((function(){var t=e.getValidate();if(!t)return Object(p.a)("\u8bf7\u5b8c\u6210\u9a8c\u8bc1");a.checkValidate_gee(t)}))},a.getValidate_gee=function(){b.g.getValidate_gee().subscribe((function(e){try{var t=e.data,n=t.data,o=t.status_code,i=n.gt,s=n.challenge,r=n.success,l=n.new_captcha,c=n.code_id;200===o&&(a.captchaSuccess=r,a.code_id=c,window.initGeetest({gt:i,challenge:s,new_captcha:l,product:"bind",offline:!Number(r)},a.handlerGee))}catch(d){console.log(d)}}))},a.normalRegisterGee=function(){var e;a.setState({isRegisterValidateLosding:!0}),clearTimeout(e),e=setTimeout((function(){a.setState({isRegisterValidateLosding:!1})}),8e3),b.g.getValidate_gee().subscribe((function(e){try{var t=e.data,n=t.data,o=t.status_code,i=n.gt,r=n.challenge,l=n.success,c=n.new_captcha,d=n.code_id;200===o?(a.captchaSuccess=l,a.code_id=d,window.initGeetest({width:"100%",gt:i,challenge:r,new_captcha:c,product:"bind",offline:!Number(l)},(function(e){e.onReady((function(){a.normalGeeObj=e,e.verify(),a.setState({isRegisterValidateLosding:!1})})).onSuccess((function(){var t=e.getValidate(),n={geetest_code_id:d,geetest_offline:Number(l)};a.props.dispatch(s.b.createAction("entry/handleRegisterGeeReducer",{data:!0})),a.setState({actionParams:I({},n,t),isRegisterValidateLosding:!1,jyStatus:h.a.done})})).onError((function(){f.a.fail("\u7cfb\u7edf\u7e41\u5fd9\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5"),a.setState({isRegisterValidateLosding:!1,jyStatus:h.a.error})}))}))):(f.a.fail("\u7cfb\u7edf\u7e41\u5fd9\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5"),a.setState({isRegisterValidateLosding:!1}))}catch(p){a.setState({isRegisterValidateLosding:!1}),console.log(p)}}))},a.normalGeeTest=function(){var e=a.state,t=e.actionParams;e.isRegisterValidateLosding||(a.normalGeeObj?t&&!t.geetest_challenge&&(a.normalGeeObj.verify(),a.setState({jyStatus:h.a.wait})):a.normalRegisterGee())},a.linkToLogin=function(){a.props.state.history.push("/entry/login"),window.sendClickEvent&&window.sendClickEvent("button","\u8fd4\u56de\u767b\u5f55\u6309\u94ae\u70b9\u51fb\u6b21\u6570",{key:"back_login_tap",version:"zhuge3"})},a.changeVerifyCodeHandle=function(e){e.stopPropagation(),a.props.dispatch({type:"app/getValidCodeImgInfo",payload:{}})},a.sendSmsCodeHandle=function(){var e=a.state,t=e.phone,n=e.sendPhoneCode;if(a.captchaObj&&!n){if(d.a.isEmpty(t))return Object(p.a)("\u8bf7\u5148\u8f93\u5165\u624b\u673a\u53f7\u7801"),!1;if(!s.b.getpattern.mobileSimple.test(t))return Object(p.a)("\u624b\u673a\u53f7\u7801\u683c\u5f0f\u4e0d\u6b63\u786e"),!1;a.captchaObj.verify()}},a.renderJyStatus=function(){var e=a.state.jyStatus;return n.createElement("div",{className:c.a[e]},n.createElement("i",{style:{backgroundPosition:h.b[e].icon},className:c.a.jyIcon}),n.createElement("span",{dangerouslySetInnerHTML:{__html:h.b[e].detail}}))},a.confirmRule=function(){a.setState({confirmChecked:!a.state.confirmChecked},(function(){a.state.confirmChecked?localStorage.setItem("confirmChecked","1"):localStorage.setItem("confirmChecked","0")}))},a.closeRule=function(){a.setState({ruleVisible:!1})},a.renderRule=function(){var e=a.state,t=e.currentRule,o=e.ruleVisible,i="\u76f8\u5173\u6761\u6b3e"===t?n.createElement(G,null):n.createElement(P.a,null);return n.createElement(k.a,{left:"\u5173\u95ed",content:i,title:t,visible:o,onCancel:a.closeRule,headClassname:c.a.ruleHead})},a.openRule=function(e){a.setState({currentRule:e,ruleVisible:!0})},a.onBottomBtn=function(){var e=a.props.all.login.registerBindStatus,t=a.state,n=t.userName,o=t.passWord,i=a.props.all.home.register_validate_type;511===e?(a.props.dispatch({type:"login/registerBindStatusReducer",payload:{data:"clear"}}),"1"!==i?(a.props.dispatch({type:"app/getValidCodeImgInfo"}),a.setState({verify_code:""})):a.props.dispatch({type:"entry/handleRegisterGeeReducer",payload:{data:!1}})):a.props.dispatch({type:"entry/loginV2",payload:{name:n.replace(/(^\s*)|(\s*$)/g,""),password:o,domain:window.location.host}})},a.renderNormanRegister=function(){var e=a.state,t=e.userName,o=e.passWord,i=e.confirmPass,r=e.verify_code,l=e.phone,d=e.phone_code,p=e.sendPhoneCode,m=e.codeLeft,h=e.showVoiceModal,f=e.isNeedRegisterValidate,b=e.actionParams,v=e.isRegisterValidateLosding,_=e.passWordRuleTip,S=e.placeholderType,w=e.userPlaceholderType,N=e.confirmChecked,E=a.props,P=E.onFocus,k=E.onBlur,R=a.props.all.app.validImgInfo,L=a.props.all.home.icodeBlack,V=a.props.state.history,I=s.b.isJudge(L)(t&&o&&l&&d&&N,s.b.isJudge(f)(t&&o&&i&&b.geetest_challenge&&b.geetest_validate&&b.geetest_seccode&&N,t&&o&&i&&r&&N));return n.createElement(n.Fragment,null,n.createElement("div",{className:c.a.formContainer},n.createElement("div",{className:c.a.locationToLeft,onClick:a.linkToLogin},n.createElement("div",{className:c.a.locationContent},n.createElement("div",{className:c.a.linkRegisterIcon}),n.createElement("div",{className:c.a.text},n.createElement("span",null,"\u8fd4"),n.createElement("span",null,"\u56de"),n.createElement("span",null,"\u767b"),n.createElement("span",null,"\u5f55")))),n.createElement("div",{className:s.b.reactClassNameJoin(c.a.content,c.a.registerContent)},n.createElement("div",{className:s.b.reactClassNameJoin(c.a.title,c.a.registerTitle)},"\u6ce8\u518c"),n.createElement("div",{className:c.a.form},n.createElement("div",{className:s.b.reactClassNameJoin(c.a.inputBox,c.a.registerBox)},n.createElement(u.a,{className:c.a.inputGroup,placeholder:"\u7528\u6237\u540d",defaultValue:t,tipContent:"\u8bf7\u8f93\u51656-10\u4f4d\u5b57\u6bcd+\u6570\u5b57\u7ec4\u5408\uff0c\u4e14\u9996\u4f4d\u4e0d\u4e3a\u6570\u5b57\uff01",placeholderType:w,leftIconSrc:s.b.staticLink("https://h5static.0am08m.com/assets/entry/entry_user_icon.png"),onChange:a.changeUserName,onFocus:P,onBlur:k}),n.createElement(u.a,{className:c.a.inputGroup,placeholder:"\u5bc6\u7801",defaultValue:o,tipContent:_,type:"password",placeholderType:S,leftIconSrc:s.b.staticLink("https://h5static.0am08m.com/assets/entry/entry_password_icon.png"),onChange:a.changePassword,onFocus:P,onBlur:k}),L?n.createElement(n.Fragment,null,n.createElement(u.a,{key:L,className:c.a.inputGroup,placeholder:"\u624b\u673a\u53f7\u7801",defaultValue:l,type:"number",maxLength:11,leftIconSrc:s.b.staticLink("https://h5static.0am08m.com/assets/entry/entry_phone_icon.png"),onChange:a.changePhone,onFocus:P,onBlur:k}),n.createElement("div",{className:c.a.inputWithButton},n.createElement(u.a,{key:L,type:"number",className:c.a.inputGroup,placeholder:"\u77ed\u4fe1\u9a8c\u8bc1\u7801",leftIconSrc:s.b.staticLink("https://h5static.0am08m.com/assets/entry/entry_verify_icon.png"),clear:!1,maxLength:6,defaultValue:d,onChange:a.changePhoneCode,onFocus:P,onBlur:k}),n.createElement(C.a,{styleName:s.b.reactClassNameJoin(c.a.getPhoneCode,s.b.isJudge(p)(c.a.disabled,"")),text:p?(m>9?m:"0"+m)+"s":"\u53d1\u9001\u9a8c\u8bc1\u7801",onSubmit:a.sendSmsCodeHandle})),h&&n.createElement(g.a,{history:V,className:"enterTips",phone:l,code:"/member/v1/newRegister/sms",name:t,styles:"0 0 0.1rem 0"})):n.createElement(n.Fragment,null,n.createElement(u.a,{className:c.a.inputGroup,placeholder:"\u786e\u8ba4\u5bc6\u7801",defaultValue:i,type:"password",leftIconSrc:s.b.staticLink("https://h5static.0am08m.com/assets/entry/entry_password_icon.png"),onChange:a.changeconfirmPass,onFocus:P,onBlur:k}),s.b.isJudge(!f)(n.createElement(u.a,{className:c.a.inputGroup,placeholder:"\u9a8c\u8bc1\u7801",leftIconSrc:s.b.staticLink("https://h5static.0am08m.com/assets/entry/entry_verify_icon.png"),clear:!1,maxLength:10,verifyCode:R.url,defaultValue:r,onChangeVerifyCode:a.changeVerifyCodeHandle,onChange:a.changeVerifyCode,onFocus:P,onBlur:k}),n.createElement("div",{className:c.a.registerGeeWrap},n.createElement(y.a,{onTap:a.normalGeeTest},n.createElement("div",{className:c.a.normal_register_test,id:"normal_register_test"},s.b.isJudge(v)(n.createElement("span",{className:s.b.reactClassNameJoin(c.a.icon)},n.createElement("img",{className:c.a.refresh,src:s.b.staticLink("https://h5static.0am08m.com/assets/v4_common/refresh.png")})),a.renderJyStatus()))))))),n.createElement("div",{className:c.a.ruleContainer},n.createElement("span",{onClick:a.confirmRule,className:N?c.a.turn_on:c.a.turn_off}),n.createElement("span",{onClick:a.confirmRule},"\u6211\u5df2\u9605\u8bfb\u5e76\u540c\u610f"),n.createElement("span",{onClick:function(){return a.openRule("\u76f8\u5173\u6761\u6b3e")},className:c.a.ruleLink},"\u76f8\u5173\u6761\u6b3e"),n.createElement("span",null,"\u548c"),n.createElement("span",{onClick:function(){return a.openRule("\u9690\u79c1\u653f\u7b56")},className:c.a.ruleLink},"\u9690\u79c1\u653f\u7b56")),n.createElement("div",{className:c.a.btnGroup},n.createElement(C.a,{styleName:c.a.registerBtn,text:"\u6ce8\u518c",onSubmit:a.onUserRegister,disabled:!I}))),a.renderRule())))},a.renderRegisterBind=function(){return n.createElement("div",{className:c.a.bindformContainer},n.createElement(L.a,{onSubmit:a.onUserRegister,onBindPhoneChange:function(e){a.setState({bindPhoneNum:e})},onVerifyCodeChange:function(e){a.setState({bindVerifyCode:e.substr(0,6)})},onBottomBtn:a.onBottomBtn}))},a.state={userName:"",passWord:"",confirmPass:"",verify_code:"",phone:"",phone_code:"",sendPhoneCode:!1,codeLeft:60,showVoiceModal:!1,isNeedRegisterValidate:!1,isRegisterValidateLosding:!1,actionParams:{},jyStatus:h.a.wait,passWordRuleTip:"\u8bf7\u8f93\u51658-12\u4f4d\u5b57\u6bcd+\u6570\u5b57\u7684\u7ec4\u5408",placeholderType:"",userPlaceholderType:"",confirmChecked:!1,currentRule:"",bindPhoneNum:"",bindVerifyCode:""},a}return V(t,e),t.prototype.componentDidMount=function(){var e=s.b.getUrlParams("i_code")||window.sessionStorage.getItem("i_code"),t=this.props.all.home.register_validate_type;this.setState({confirmChecked:"0"!==localStorage.getItem("confirmChecked")}),e&&"undefined"!==e||"1"!==String(t)?(this.props.dispatch({type:"app/getValidCodeImgInfo",payload:{}}),this.getIcodeInfo()):this.setState({isNeedRegisterValidate:!0})},t.prototype.componentWillReceiveProps=function(e){var t=this,a=s.b.getUrlParams("i_code")||window.sessionStorage.getItem("i_code");e.all.home.register_validate_type&&e.all.home.register_validate_type!==this.props.all.home.register_validate_type&&(a&&"undefined"!==a||"1"!==String(e.all.home.register_validate_type)?!e.all.home.icodeBlack&&e.all.home.isFirstCheckIcode&&"1"===e.all.home.register_validate_type?this.setState({isNeedRegisterValidate:!0}):"0"===e.all.home.register_validate_type?this.setState({isNeedRegisterValidate:!1}):e.all.home.icodeBlack||"1"!==e.all.home.register_validate_type||this.setState({isNeedRegisterValidate:!0}):this.setState({isNeedRegisterValidate:!0})),e.all.entry.isGeeDone||this.props.all.entry.isGeeDone===e.all.entry.isGeeDone||this.normalGeeObj&&"function"===typeof this.normalGeeObj.reset&&(this.normalGeeObj.reset(),this.setState({actionParams:{},jyStatus:h.a.wait})),e.all.home.isFirstCheckIcode||e.all.home.isFirstCheckIcode===this.props.all.home.isFirstCheckIcode||(e.all.home.icodeBlack||"1"!==String(e.all.home.register_validate_type)?e.all.home.icodeBlack&&this.setState({isNeedRegisterValidate:!1}):this.setState({isNeedRegisterValidate:!0})),e.all.home.icodeBlack&&!this.icodeInit&&(this.icodeInit=!0,this.getValidate_gee()),a&&"undefined"!==a&&a!==this.i_code&&(a?this.getIcodeInfo():this.props.dispatch({type:"home/setIcodeBlack",payload:{icodeBlack:!1}}));var n=e.event.getNewRegisterSms;n&&n!==this.props.event.getNewRegisterSms&&(this.countdown(),this.setState({showVoiceModal:!0},(function(){t.props.dispatch({type:"EVENT/GET_NEW_REGISTER_SMS_REDUCER",payload:{getNewRegisterSms:!1}})})))},t.prototype.componentWillUnmount=function(){this.props.dispatch({type:"home/handleFirstCheckIcodeReducer",payload:{data:!0}}),this.props.dispatch({type:"register/handleRegisterReducer",payload:{data:!1}}),this.props.dispatch(s.b.createAction("entry/handleRegisterGeeReducer",{data:!1})),this.props.dispatch({type:"home/setIcodeBlack",payload:{icodeBlack:!1}}),this.props.dispatch({type:"home/getPreInfo"}),this.props.dispatch({type:"login/registerBindStatusReducer",payload:{data:"clear"}})},t.prototype.render=function(){var e=this.props.all.login.registerBindStatus;return n.createElement(n.Fragment,null,s.b.isJudge(e)(this.renderRegisterBind(),this.renderNormanRegister()))},t=O([Object(o.b)((function(e){return{state:e.entry,all:e,event:e.event}}))],t)}(n.PureComponent),J=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function n(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)}}(),F=function(e,t,a,n){var o,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var r=e.length-1;r>=0;r--)(o=e[r])&&(s=(i<3?o(s):i>3?o(t,a,s):o(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},x=function(e){function t(t){var a=e.call(this,t)||this;return a.loginAnimated={left:0,transition:"left 0.3s ease-in-out"},a.registerAnimated={left:"-7.5rem",transition:"left 0.3s ease-in-out"},a.bolinhetaImg=s.b.staticLink("https://h5static.0am08m.com/assets/login/sponsor-img.png"),a.clearLoginToken=function(){sessionStorage.removeItem("token")},a.handleAccountOnfocus=function(){setTimeout((function(){document.activeElement.scrollIntoView()}),200)},a.handleAccountOnBlur=function(){},a.handleSetFocus=function(e){a.setState({isGetFocus:e})},a.state={pageState:"/entry/login",isShowPage:!1,isGetFocus:!1},a}return J(t,e),t.prototype.componentDidMount=function(){var e=this.props.history.location.pathname,t=window.location,a=t.hash,n=t.search,o="";o=a&&"#/"!==a?a.split("?")[1]:n.split("?")[1];var r=i.parse(o),l=s.b.getIcode();if(l&&(sessionStorage.setItem("i_code",l),s.b.setCookie("i_code",l)),r.r_code&&(sessionStorage.setItem("r_code",r.r_code),s.b.setCookie("r_code",r.r_code)),s.b.isApp())return this.handelAppLogin(),!1;this.setState({isShowPage:!0}),"/"===e&&this.props.history.replace("/entry/login")},t.prototype.componentWillReceiveProps=function(e){var t=e.location.pathname;t!==this.state.pageState&&"/"!==t&&this.setState({pageState:t})},t.prototype.handelAppLogin=function(){try{var e=location.href.split("?")[1],t=s.b.appData(),a=r[t.forward];"carnival"===t.forward&&(a=a+"?"+e),a&&"#/entry/login"!==location.hash?this.props.state.history.replace(a):this.setState({isShowPage:!0})}catch(n){console.log(n)}},t.prototype.render=function(){var e=this,t=this.state,a=t.pageState,o=t.isShowPage,i=t.isGetFocus;return s.b.isJudge(o)(n.createElement("div",{className:c.a.enteryWrapper},n.createElement("div",{className:c.a.entryContentWrap},n.createElement("div",{ref:function(t){return e.contentInnerWrapRef=t},className:c.a.entryContentInnerWrap},n.createElement("div",{className:c.a.entryTop},n.createElement("div",{className:c.a.yaboLogo}),n.createElement("div",{className:c.a.sponsorContainer},n.createElement("div",{className:c.a.sponsorTxtGroup},n.createElement("span",{className:c.a.line}),n.createElement("span",{className:c.a.title},"\u8d5e\u52a9\u4f19\u4f34"),n.createElement("span",{className:c.a.line})),n.createElement("div",{className:c.a.sponsorGroup}))),n.createElement("div",{style:{overflow:"hidden"}},n.createElement("div",{style:s.b.isJudge(i)({transition:"none"},{}),className:s.b.reactClassNameJoin(c.a.entryMain,s.b.isJudge("/entry/login"===a)(c.a.loginAnimated,c.a.registerAnimated))},n.createElement(N,{onFocus:this.handleAccountOnfocus,onBlur:this.handleAccountOnBlur}),n.createElement(T,{setGetFocus:this.handleSetFocus,onFocus:this.handleAccountOnfocus,onBlur:this.handleAccountOnBlur})))))),null)},t=F([Object(o.b)((function(e){return{state:e.entry,all:e}}))],t)}(n.PureComponent);t.default=x}}]);